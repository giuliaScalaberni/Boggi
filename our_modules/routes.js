const express = require('express');
const http = require('http');
const https = require('https');
const fs = require('fs'); //FileStream
const request = require('request');

//WATSON
const watson = require('watson-developer-cloud');
var natural_language_understandingV1 = require('watson-developer-cloud/natural-language-understanding/v1.js');
var naturalLanguageUnderstanding = new natural_language_understandingV1({
  'username': '08344669-8c91-4e38-b836-979c16b18a61',
  'password': 'wroWRXcoD3SS',
  'version_date': '2017-02-27'
});
var visualRecognition = watson.visual_recognition({
  api_key: '21b40f0e5d62aa2ed107f63ac803f4d90ab69d6a',
  version: 'v3',
  version_date: '2016-05-20'
});

//SOCIAL
const twitter = require('twitter');

var twitterClient = new twitter({
  consumer_key: '9VK1qhOGxWPdeLEynP0RaLmQu',
  consumer_secret: '1mH1zMUlFu8KAYKRy3AgUz2ECysEpVQQgfB3xCp6BbW30ZcaBp',
  access_token_key: '828367255079645185-gTJ7UbV1VvQQ8z91ZfugBo6Ht5EoV02',
  access_token_secret: 'v3SwPVh3anLVGmVibNPNAn01khaJMNKcwLWvujgDFjuiH'
});

function getWatsonFromUrl(url, res){
  var file = fs.createWriteStream('tmp.jpg');
  if(url.indexOf("https") !== -1){
    console.log("Find method: https");
    var request = https.get(url, function(response) {
      response.pipe(file);
      var params = {
        images_file: fs.createReadStream('tmp.jpg')
      };
      visualRecognition.classify(params, (errWatson, resWatson) => {
        console.log('Data retrived by Visual Recognition of Watson');
        if (errWatson){
            res.send(errWatson);
        } else {
            res.send(JSON.stringify(resWatson, null, 2));
        }
      });
    });
  } else if(url.indexOf("http") !== -1){
    console.log("Find method: http");
    var request = http.get(url, function(response) {
      response.pipe(file);
      var params = {
        images_file: fs.createReadStream('tmp.jpg')
      };
      visualRecognition.classify(params, (err2Watson, res2Watson) => {
        if (err2Watson)
          res.send(err2Watson);
        else
          res.send(JSON.stringify(res2Watson, null, 2));
      });
    });
  }else{
    console.log(url);
    res.send();
  }
}

var router = express.Router();

//------------------------------------------------------------------------------

//LOGGER FOR PAGE REQUESTED
router.get('*', (req, res, next) => {
  console.log('Richiesta all\'uri: ' + req.url);
  next();
});

//------------------------------------------------------------------------------

//PAGES

//------------------------------------------------------------------------------

//APIfunction

//GET ALL USERS
router.get('/api/v1/user/:email', (req, res, next) => {

  if(req.params.email == 'giovanni.malago@gmail.com'){
    res.send(
      {"DemandwareCustomer":{"Version":"16.9","Type":"customer","ResourceState":"cd7c4e8fff978600ef27995a873f47f590c317ff48e9a2f0a8c5874830ad4c3d","CreationDate":"2016-07-30T15:33:08.000Z","Credentials":{"Type":"credentials","Enabled":true,"Locked":false,"Login":"mbenasedo@mixereventi.com"},"CustomerID":"ab1B0Odqzml5g21X9zgTpKW6AY","CustomerNumber":"000116609","Email":"giovanni.malago@gmail.com","FirstName":"GIOVANNI","Gender":1,"LastLoginTime":"2017-02-06T11:23:41.000Z","LastName":"MALAGO","LastVisitTime":"2017-02-06T11:23:41.000Z","PreviousLoginTime":"2017-02-06T11:23:41.000Z","PreviousVisitTime":"2017-02-06T11:23:41.000Z","OmnichannelReady":false,"Points":1099,"Discount":50,"DicountType":"P","RetailID":"69241","MobilePhone":"348 2632290","HomePhone":"+393482632290","Birthday":"2016-05-28","Authorization":null},"Orders":[{"CostoImballo":0,"CostoDazio":0,"ID":36988,"NumOrdine":"WEBD00189612","OrdineOriginale":"","DataOrdine":"/Date(1488974666000)/","DataIngressoSistema":"/Date(1488979086000)/","FDenominazione":"MARCO BENASEDO","FRagioneSociale":"","FIndirizzo":"VIA FRISI 22","FIndirizzo2":"NULL","FCAP":"20900","FComune":"MONZA","FProvincia":"Monza-Brianza","Femail":"mbenasedo@mixereventi.com","FTelefono":"3482632290","FCodFiscale":"","FPartitaIVA":"","SDenominazione":"MARCO BENASEDO","SRagioneSociale":"","SIndirizzo":"VIA FRISI 22","SIndirizzo2":"NULL","SCAP":"20900","SComune":"MONZA","SProvincia":"Monza-Brianza","Semail":"mbenasedo@mixereventi.com","STelefono":"3482632290","SCodFiscale":"","SPartitaIVA":"","CodAutorizzazione":"1814889746810390","TipoPagamento":"POS","OrderType":1000,"Messaggio":"","CostoSpedizione":0,"TimeStamp":"/Date(1489406400000)/","OrderStatus":10,"UserID":"000116609","Lastdatamodified_wb":"/Date(1488974666000)/","FCodisoNaz":"IT","SCodisoNaz":"IT","NumFatt":"CO0000002311","PesoOrdine":1.1,"ColliOrdine":1,"UsedCoupons":"","Totale":75,"Sconto":37.5,"TotaleScontato":37.5,"Language":"en_US","AreaCode":"","CodCampagna":"","OrdineRegalo":"False","ValutatoPerNC":0,"RichiestaFattura":"N","Guest":"N","CouponCodeDetail":{"CouponCodeName":"","Value":"0","Type":"","IsDirty":false,"IsFlagForDelete":false},"OrderBoggiItems":[{"ID":84861,"IDTestata":"WEBD00189612","NumRiga":1,"CodArticolo":"BO17P003101","Taglia":"XXL","Quantita":1,"QuantitaFatturata":1,"Prezzo":37.5,"OrderStatus":6,"UserID":"000116609","LastDataModified_wb":"/Date(1488974666000)/","DescrizioneArt":"CUSTOM-FIT TEXTURED COTTON SHIRT WITH SOFT COLLAR","VoceDoganale":"62052000","MadeIn":"CN","Composizione":"","GiftCardCode":"","Omaggio":0,"PrezzoAcquisto":37.5,"LastSeason":"17P","GroupCode":38,"GroupDescription":"Camicie Sportive","PrezzoScontato":0,"PrezzoAcquistoScontato":0,"ScontoPrezzo":0,"ScontoPrezzoAcquisto":0,"PrezzoEUR":37.5,"IsVirtualItem":false,"DiscountLabel":"LOY_50","DiscountValue":-37.5,"DiscountValueEUR":-37.5,"WarehouseAvailability":5,"IsDirty":false,"IsFlagForDelete":false}],"ShippingFees":0,"ScontoTestata":0,"Currency":"EUR","CaptureConfirmation":"POSTRANSACTION","CaptureDate":"/Date(1488985500000)/","RemoteHost":"80.13.221.64","CostoSpedizioneEur":0,"TotaleEur":75,"ScontoEur":37.5,"TotaleScontatoEur":37.5,"GiftCardFee":0,"GiftCardFeeEur":0,"SourceID":1,"MasterOrder":"0","OrderBoggiAttribute":[{"ID":1262044,"NumOrdine":"WEBD00189612","AttributeKey":"Demandware customer number","AttributeValue":"000116609","EventDate":"/Date(1488979085000)/","OrderBoggiAttributeType":10,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":1262045,"NumOrdine":"WEBD00189612","AttributeKey":"Demandware customer ID","AttributeValue":"ab1B0Odqzml5g21X9zgTpKW6AY","EventDate":"/Date(1488979085000)/","OrderBoggiAttributeType":10,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":1262046,"NumOrdine":"WEBD00189612","AttributeKey":"Demandware customer Firstname","AttributeValue":"MARCO","EventDate":"/Date(1488979085000)/","OrderBoggiAttributeType":10,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":1262047,"NumOrdine":"WEBD00189612","AttributeKey":"Demandware customer Lastname","AttributeValue":"BENASEDO","EventDate":"/Date(1488979085000)/","OrderBoggiAttributeType":10,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":1262048,"NumOrdine":"WEBD00189612","AttributeKey":"Demandware customer Creation date","AttributeValue":"2016-07-30T15:33:08.000Z","EventDate":"/Date(1488979085000)/","OrderBoggiAttributeType":10,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":1262049,"NumOrdine":"WEBD00189612","AttributeKey":"acceptingSalesConditions","AttributeValue":"false","EventDate":"/Date(1488979085000)/","OrderBoggiAttributeType":6,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":1262050,"NumOrdine":"WEBD00189612","AttributeKey":"eaEmployeeId","AttributeValue":"4000223","EventDate":"/Date(1488979085000)/","OrderBoggiAttributeType":6,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":1262051,"NumOrdine":"WEBD00189612","AttributeKey":"eaStoreId","AttributeValue":"1117","EventDate":"/Date(1488979085000)/","OrderBoggiAttributeType":6,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":1262052,"NumOrdine":"WEBD00189612","AttributeKey":"privacyPolicy","AttributeValue":"false","EventDate":"/Date(1488979085000)/","OrderBoggiAttributeType":6,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":1262053,"NumOrdine":"WEBD00189612","AttributeKey":"ConversionRate","AttributeValue":"1","EventDate":"/Date(1488979086000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":1262054,"NumOrdine":"WEBD00189612","AttributeKey":"TimeZone","AttributeValue":"Europe/Paris","EventDate":"/Date(1488979086000)/","OrderBoggiAttributeType":11,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":1262055,"NumOrdine":"WEBD00189612","AttributeKey":"TimeZoneOffSet","AttributeValue":"3600","EventDate":"/Date(1488979086000)/","OrderBoggiAttributeType":11,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":1262056,"NumOrdine":"WEBD00189612","AttributeKey":"TimeZoneJson","AttributeValue":"{\"as\":\"AS3215 Orange\",\"city\":\"Paris\",\"country\":\"France\",\"countryCode\":\"FR\",\"isp\":\"Orange\",\"lat\":48.8628,\"lon\":2.3292,\"org\":\"Orange\",\"query\":\"80.13.221.64\",\"region\":\"IDF\",\"regionName\":\"ÃŽle-de-France\",\"status\":\"success\",\"timezone\":\"Europe/Paris\",\"zip\":\"75001\"}","EventDate":"/Date(1488979086000)/","OrderBoggiAttributeType":11,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":1315473,"NumOrdine":"WEBD00189612","AttributeKey":"Delivery Date BRT","AttributeValue":"2017-03-10 12:00:00","EventDate":"/Date(1489406400000)/","OrderBoggiAttributeType":2,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":1323115,"NumOrdine":"WEBD00189612","AttributeKey":"Latitude","AttributeValue":"45.5845001","EventDate":"/Date(1489414413000)/","OrderBoggiAttributeType":12,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":1323116,"NumOrdine":"WEBD00189612","AttributeKey":"Longitude","AttributeValue":"9.2744485","EventDate":"/Date(1489414413000)/","OrderBoggiAttributeType":12,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false}],"OrderBoggiPaymentCapture":[{"ID":12001,"OrderNumber":"WEBD00189612","PaymentType":5,"Currency":"EUR","CaptureAmount":0,"CaptureDate":"/Date(1488985500000)/","CaptureAuth":"POSTRANSACTION","CaptureType":1,"IsDirty":false,"IsFlagForDelete":false}],"Payments":null,"CreditNotes":[{"CostoImballo":0,"CostoDazio":0,"ID":4136,"NumOrdine":"WEBNC003578","OrdineOriginale":"WEBD00189612","DataOrdine":"/Date(1489077003000)/","FDenominazione":"MARCO BENASEDO","FIndirizzo":"VIA FRISI 22","FIndirizzo2":"NULL","FCAP":"20900","FComune":"MONZA","FProvincia":"Monza-Brianza","Femail":"mbenasedo@mixereventi.com","FTelefono":"3482632290","SDenominazione":"MARCO BENASEDO","SIndirizzo":"VIA FRISI 22","SIndirizzo2":"NULL","SCAP":"20900","SComune":"MONZA","SProvincia":"Monza-Brianza","Semail":"mbenasedo@mixereventi.com","STelefono":"3482632290","CodAutorizzazione":"RETURNCASECONFIRMATION","TipoPagamento":"POS","Messaggio":"","CostoSpedizione":0,"TimeStamp":"/Date(1489077003000)/","OrderStatus":3,"UserID":"000116609","Lastdatamodified_wb":"/Date(1489077003000)/","FCodisoNaz":"IT","SCodisoNaz":"IT","PesoOrdine":0,"ColliOrdine":0,"UsedCoupons":"","Totale":37.5,"Sconto":0,"TotaleScontato":37.5,"Language":"en_US","EffettuaSoloRimborso":0,"OrdineSostituzione":"","CodCausaleReso":"","ImportoRimborsabile":37.5,"ShippingFees":0,"Currency":"EUR","CreditNoteItems":[{"ID":6856,"IDTestata":"WEBNC003578","NumRiga":1,"CodArticolo":"BO17P003101","Taglia":"XXL","Quantita":1,"Prezzo":37.5,"OrderStatus":0,"UserID":"000116609","LastDataModified_wb":"/Date(-62135596800000)/","DescrizioneArt":"CUSTOM-FIT TEXTURED COTTON SHIRT WITH SOFT COLLAR","VoceDoganale":"62052000","MadeIn":"CN","Composizione":"","GiftCardCode":"","PrezzoAcquisto":37.5,"ReturnReason":"PRODUCT_NOT_COMPLIANT","DiscountValue":0,"RefaundItem":false,"IsDirty":false,"IsFlagForDelete":false}],"Attributes":[{"ID":1275795,"NumOrdine":"WEBNC003578","AttributeKey":"Demandware ReturnCase Number","AttributeValue":"WEBD00189612-RC1","EventDate":"/Date(1489077003000)/","OrderBoggiAttributeType":9,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false}],"IsDirty":false,"IsFlagForDelete":false}],"ReturnCases":[],"NavisionInvoices":null,"ShopUpsellings":null,"TrackingUrl":["http://as777.bartolini.it/vas/sped_ricdocmit_load.hsm?rma=WEBD00189612&ksu=0896641&refer=https://shop.boggi.com online.asp"],"Boxes":[{"ID":14768,"OrderNumber":"WEBD00189612","InternalShipping":"SP17-012826","Carton":"SC0449172","Weight":0.48,"CartonCode":"16","Length":485,"Width":350,"Height":87,"IsDirty":false,"IsFlagForDelete":false}],"SDenominazioneOriginale":"MARCO BENASEDO","SIndirizzoOriginale":"VIA FRISI 22","SIndirizzo2Originale":"NULL","SCapOriginale":"20900","SComuneOriginale":"MONZA","SProvinciaOriginale":"Monza-Brianza","TotaleScontoTestata":0,"TotaleScontoTestata_EUR":0,"CourierName":"BARTOLINI","OrchestrationList":[],"CourierEventList":[{"ID":98139,"EventDate":"/Date(1489143600000)/","Description":"Delivered","EventCode":"DL","City":"MONZA","Country":"IT","ExceptionEventCode":"","ExceptionEventDescription":"","OrderNumber":"WEBD00189612","TrackingNumber":"47464","IsDirty":false,"IsFlagForDelete":false}],"OrderFilesList":[],"NavisionInvoice":"IN17-001092","IsDirty":false,"IsFlagForDelete":false},{"CostoImballo":0,"CostoDazio":0,"ID":35387,"NumOrdine":"WEBD00184101","OrdineOriginale":"","DataOrdine":"/Date(1486366450000)/","DataIngressoSistema":"/Date(1486371607000)/","FDenominazione":"MARCO BENASEDO","FRagioneSociale":"","FIndirizzo":"VIA FRISI 22","FIndirizzo2":"NULL","FCAP":"20900","FComune":"MONZA","FProvincia":"Monza-Brianza","Femail":"mbenasedo@mixereventi.com","FTelefono":"3482632290","FCodFiscale":"","FPartitaIVA":"","SDenominazione":"marco benasedo","SRagioneSociale":"","SIndirizzo":"via frisi 22","SIndirizzo2":"","SCAP":"20900","SComune":"monza","SProvincia":"MB","Semail":"mbenasedo@mixereventi.com","STelefono":"00000000000","SCodFiscale":"","SPartitaIVA":"","CodAutorizzazione":"MixedPayment","TipoPagamento":"MXD","OrderType":1000,"Messaggio":"","CostoSpedizione":0,"TimeStamp":"/Date(1489069835000)/","OrderStatus":10,"UserID":"000116609","Lastdatamodified_wb":"/Date(1486366450000)/","FCodisoNaz":"IT","SCodisoNaz":"IT","NumFatt":"CO0000001665","PesoOrdine":2.92,"ColliOrdine":1,"UsedCoupons":"","Totale":545,"Sconto":272.5,"TotaleScontato":272.5,"Language":"it_IT","AreaCode":"","CodCampagna":"","OrdineRegalo":"False","ValutatoPerNC":0,"RichiestaFattura":"N","Guest":"N","CouponCodeDetail":{"CouponCodeName":"","Value":"0","Type":"","IsDirty":false,"IsFlagForDelete":false},"OrderBoggiItems":[{"ID":81125,"IDTestata":"WEBD00184101","NumRiga":1,"CodArticolo":"BO17P020901","Taglia":"40","Quantita":1,"QuantitaFatturata":1,"Prezzo":59.5,"OrderStatus":6,"UserID":"000116609","LastDataModified_wb":"/Date(1486366450000)/","DescrizioneArt":"5 TASCHE DENIM STRETCH LAVAGGIO CHIARO - MADE IN ITALY","VoceDoganale":"62034235","MadeIn":"IT","Composizione":"98 CO 2 EA","GiftCardCode":"","Omaggio":0,"PrezzoAcquisto":59.5,"LastSeason":"17P","GroupCode":8,"GroupDescription":"Jeans","PrezzoScontato":0,"PrezzoAcquistoScontato":0,"ScontoPrezzo":0,"ScontoPrezzoAcquisto":0,"PrezzoEUR":59.5,"IsVirtualItem":false,"DiscountLabel":"LOY_50","DiscountValue":-59.5,"DiscountValueEUR":-59.5,"WarehouseAvailability":0,"IsDirty":false,"IsFlagForDelete":false},{"ID":81126,"IDTestata":"WEBD00184101","NumRiga":2,"CodArticolo":"BO17P020701","Taglia":"40","Quantita":1,"QuantitaFatturata":1,"Prezzo":59.5,"OrderStatus":6,"UserID":"000116609","LastDataModified_wb":"/Date(1486366450000)/","DescrizioneArt":"5 TASCHE DENIM ORGANIC STRETCH LAVAGGIO MEDIO - MADE IN ITALY","VoceDoganale":"62034235","MadeIn":"IT","Composizione":"97 CO 3 EA","GiftCardCode":"","Omaggio":0,"PrezzoAcquisto":59.5,"LastSeason":"17P","GroupCode":8,"GroupDescription":"Jeans","PrezzoScontato":0,"PrezzoAcquistoScontato":0,"ScontoPrezzo":0,"ScontoPrezzoAcquisto":0,"PrezzoEUR":59.5,"IsVirtualItem":false,"DiscountLabel":"LOY_50","DiscountValue":-59.5,"DiscountValueEUR":-59.5,"WarehouseAvailability":2,"IsDirty":false,"IsFlagForDelete":false},{"ID":81127,"IDTestata":"WEBD00184101","NumRiga":3,"CodArticolo":"BO17P022107","Taglia":"40","Quantita":1,"QuantitaFatturata":1,"Prezzo":54.5,"OrderStatus":6,"UserID":"000116609","LastDataModified_wb":"/Date(1486366450000)/","DescrizioneArt":"5 TASCHE GABARDINA STRETCH - MADE IN ITALY","VoceDoganale":"62034235","MadeIn":"IT","Composizione":"98 CO 2 EA","GiftCardCode":"","Omaggio":0,"PrezzoAcquisto":54.5,"LastSeason":"17P","GroupCode":8,"GroupDescription":"Jeans","PrezzoScontato":0,"PrezzoAcquistoScontato":0,"ScontoPrezzo":0,"ScontoPrezzoAcquisto":0,"PrezzoEUR":54.5,"IsVirtualItem":false,"DiscountLabel":"LOY_50","DiscountValue":-54.5,"DiscountValueEUR":-54.5,"WarehouseAvailability":1,"IsDirty":false,"IsFlagForDelete":false},{"ID":81128,"IDTestata":"WEBD00184101","NumRiga":4,"CodArticolo":"BO17P022106","Taglia":"40","Quantita":1,"QuantitaFatturata":1,"Prezzo":54.5,"OrderStatus":6,"UserID":"000116609","LastDataModified_wb":"/Date(1486366450000)/","DescrizioneArt":"5 TASCHE GABARDINA STRETCH - MADE IN ITALY","VoceDoganale":"62034235","MadeIn":"IT","Composizione":"98 CO 2 EA","GiftCardCode":"","Omaggio":0,"PrezzoAcquisto":54.5,"LastSeason":"17P","GroupCode":8,"GroupDescription":"Jeans","PrezzoScontato":0,"PrezzoAcquistoScontato":0,"ScontoPrezzo":0,"ScontoPrezzoAcquisto":0,"PrezzoEUR":54.5,"IsVirtualItem":false,"DiscountLabel":"LOY_50","DiscountValue":-54.5,"DiscountValueEUR":-54.5,"WarehouseAvailability":4,"IsDirty":false,"IsFlagForDelete":false},{"ID":81129,"IDTestata":"WEBD00184101","NumRiga":5,"CodArticolo":"BO17P076001","Taglia":"110","Quantita":1,"QuantitaFatturata":1,"Prezzo":44.5,"OrderStatus":6,"UserID":"000116609","LastDataModified_wb":"/Date(1486366450000)/","DescrizioneArt":"CINTURA IN PELLE INTRECCIATA ULTRA SOFT - MADE IN ITALY","VoceDoganale":"42033000","MadeIn":"IT","Composizione":"100 LE","GiftCardCode":"","Omaggio":0,"PrezzoAcquisto":44.5,"LastSeason":"17P","GroupCode":19,"GroupDescription":"Cinture","PrezzoScontato":0,"PrezzoAcquistoScontato":0,"ScontoPrezzo":0,"ScontoPrezzoAcquisto":0,"PrezzoEUR":44.5,"IsVirtualItem":false,"DiscountLabel":"LOY_50","DiscountValue":-44.5,"DiscountValueEUR":-44.5,"WarehouseAvailability":8,"IsDirty":false,"IsFlagForDelete":false}],"ShippingFees":0,"ScontoTestata":0,"Currency":"EUR","CaptureConfirmation":"4414864508587054","CaptureDate":"/Date(1486422000000)/","RemoteHost":"130.25.73.125","CostoSpedizioneEur":0,"TotaleEur":545,"ScontoEur":272.5,"TotaleScontatoEur":272.5,"GiftCardFee":0,"GiftCardFeeEur":0,"SourceID":1,"MasterOrder":"0","OrderBoggiAttribute":[{"ID":928139,"NumOrdine":"WEBD00184101","AttributeKey":"Demandware customer number","AttributeValue":"000116609","EventDate":"/Date(1486371604000)/","OrderBoggiAttributeType":10,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":928140,"NumOrdine":"WEBD00184101","AttributeKey":"Demandware customer ID","AttributeValue":"ab1B0Odqzml5g21X9zgTpKW6AY","EventDate":"/Date(1486371604000)/","OrderBoggiAttributeType":10,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":928141,"NumOrdine":"WEBD00184101","AttributeKey":"Demandware customer Firstname","AttributeValue":"MARCO","EventDate":"/Date(1486371604000)/","OrderBoggiAttributeType":10,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":928142,"NumOrdine":"WEBD00184101","AttributeKey":"Demandware customer Lastname","AttributeValue":"BENASEDO","EventDate":"/Date(1486371604000)/","OrderBoggiAttributeType":10,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":928143,"NumOrdine":"WEBD00184101","AttributeKey":"Demandware customer Creation date","AttributeValue":"2016-07-30T15:33:08.000Z","EventDate":"/Date(1486371604000)/","OrderBoggiAttributeType":10,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":928144,"NumOrdine":"WEBD00184101","AttributeKey":"Adyen_eventCode","AttributeValue":"AUTHORISATION","EventDate":"/Date(1486371604000)/","OrderBoggiAttributeType":6,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":928145,"NumOrdine":"WEBD00184101","AttributeKey":"Adyen_paymentMethod","AttributeValue":"mc","EventDate":"/Date(1486371604000)/","OrderBoggiAttributeType":6,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":928146,"NumOrdine":"WEBD00184101","AttributeKey":"Adyen_pspReference","AttributeValue":"4514863664504274","EventDate":"/Date(1486371604000)/","OrderBoggiAttributeType":6,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":928147,"NumOrdine":"WEBD00184101","AttributeKey":"Adyen_refusalReason","AttributeValue":"undefined","EventDate":"/Date(1486371604000)/","OrderBoggiAttributeType":6,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":928148,"NumOrdine":"WEBD00184101","AttributeKey":"Adyen_value","AttributeValue":"2250","EventDate":"/Date(1486371604000)/","OrderBoggiAttributeType":6,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":928149,"NumOrdine":"WEBD00184101","AttributeKey":"InvoiceRequest","AttributeValue":"false","EventDate":"/Date(1486371604000)/","OrderBoggiAttributeType":6,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":928150,"NumOrdine":"WEBD00184101","AttributeKey":"acceptingSalesConditions","AttributeValue":"true","EventDate":"/Date(1486371604000)/","OrderBoggiAttributeType":6,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":928151,"NumOrdine":"WEBD00184101","AttributeKey":"privacyPolicy","AttributeValue":"true","EventDate":"/Date(1486371604000)/","OrderBoggiAttributeType":6,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":928152,"NumOrdine":"WEBD00184101","AttributeKey":"sendingInvoiceEmail","AttributeValue":"mbenasedo@mixereventi.com","EventDate":"/Date(1486371604000)/","OrderBoggiAttributeType":6,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":928153,"NumOrdine":"WEBD00184101","AttributeKey":"ConversionRate","AttributeValue":"1","EventDate":"/Date(1486371607000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":964607,"NumOrdine":"WEBD00184101","AttributeKey":"Delivery Date BRT","AttributeValue":"2017-02-08 15:36:00","EventDate":"/Date(1486641603000)/","OrderBoggiAttributeType":2,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":1050728,"NumOrdine":"WEBD00184101","AttributeKey":"TimeZone","AttributeValue":"Europe/Rome","EventDate":"/Date(1487169054000)/","OrderBoggiAttributeType":11,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":1050729,"NumOrdine":"WEBD00184101","AttributeKey":"TimeZoneOffSet","AttributeValue":"3600","EventDate":"/Date(1487169054000)/","OrderBoggiAttributeType":11,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":1050730,"NumOrdine":"WEBD00184101","AttributeKey":"TimeZoneJson","AttributeValue":"{\"as\":\"AS30722 Vodafone Omnitel B.V.\",\"city\":\"Limbiate\",\"country\":\"Italy\",\"countryCode\":\"IT\",\"isp\":\"Vodafone Italia DSL\",\"lat\":45.5995,\"lon\":9.1251,\"org\":\"Vodafone Italia DSL\",\"query\":\"130.25.73.125\",\"region\":\"25\",\"regionName\":\"Lombardy\",\"status\":\"success\",\"timezone\":\"Europe/Rome\",\"zip\":\"20812\"}","EventDate":"/Date(1487169054000)/","OrderBoggiAttributeType":11,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":1326133,"NumOrdine":"WEBD00184101","AttributeKey":"Latitude","AttributeValue":"45.5845001","EventDate":"/Date(1489414972000)/","OrderBoggiAttributeType":12,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":1326134,"NumOrdine":"WEBD00184101","AttributeKey":"Longitude","AttributeValue":"9.2744485","EventDate":"/Date(1489414972000)/","OrderBoggiAttributeType":12,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false}],"OrderBoggiPaymentCapture":[],"Payments":null,"CreditNotes":[],"ReturnCases":[],"NavisionInvoices":null,"ShopUpsellings":null,"TrackingUrl":["http://as777.bartolini.it/vas/sped_ricdocmit_load.hsm?rma=WEBD00184101&ksu=0896641&refer=https://shop.boggi.com online.asp"],"Boxes":[{"ID":13588,"OrderNumber":"WEBD00184101","InternalShipping":"SP17-007737","Carton":"SC0441538","Weight":2.74,"CartonCode":"E5","Length":425,"Width":303,"Height":135,"IsDirty":false,"IsFlagForDelete":false}],"SDenominazioneOriginale":"marco benasedo","SIndirizzoOriginale":"via frisi 22","SIndirizzo2Originale":"","SCapOriginale":"20900","SComuneOriginale":"monza","SProvinciaOriginale":"MB","TotaleScontoTestata":0,"TotaleScontoTestata_EUR":0,"CourierName":"BARTOLINI","OrchestrationList":[],"CourierEventList":[{"ID":88786,"EventDate":"/Date(1486564560000)/","Description":"Delivered","EventCode":"DL","City":"monza","Country":"IT","ExceptionEventCode":"DL","ExceptionEventDescription":"Delivered","OrderNumber":"WEBD00184101","TrackingNumber":"24177","IsDirty":false,"IsFlagForDelete":false}],"OrderFilesList":[],"NavisionInvoice":"IN17-000593","IsDirty":false,"IsFlagForDelete":false},{"CostoImballo":0,"CostoDazio":0,"ID":29075,"NumOrdine":"WEBD00152044","OrdineOriginale":"","DataOrdine":"/Date(1480803747000)/","DataIngressoSistema":"/Date(1480807803000)/","FDenominazione":"MARCO BENASEDO","FRagioneSociale":"","FIndirizzo":"VIA FRISI 22","FIndirizzo2":"NULL","FCAP":"20900","FComune":"MONZA","FProvincia":"Monza-Brianza","Femail":"mbenasedo@mixereventi.com","FTelefono":"3482632290","FCodFiscale":"","FPartitaIVA":"","SDenominazione":"MARCO BENASEDO","SRagioneSociale":"","SIndirizzo":"VIA FRISI 22","SIndirizzo2":"NULL","SCAP":"20900","SComune":"MONZA","SProvincia":"Monza-Brianza","Semail":"mbenasedo@mixereventi.com","STelefono":"3482632290","SCodFiscale":"","SPartitaIVA":"","CodAutorizzazione":"1714808037480615","TipoPagamento":"STF","OrderType":1000,"Messaggio":"","CostoSpedizione":0,"TimeStamp":"/Date(1489069833000)/","OrderStatus":10,"UserID":"000116609","Lastdatamodified_wb":"/Date(1480803747000)/","FCodisoNaz":"IT","SCodisoNaz":"IT","NumFatt":"CO0000003584","PesoOrdine":2.88,"ColliOrdine":1,"UsedCoupons":"","Totale":531.7,"Sconto":265.85,"TotaleScontato":265.85,"Language":"it_IT","AreaCode":"","CodCampagna":"","OrdineRegalo":"False","ValutatoPerNC":0,"RichiestaFattura":"N","Guest":"N","CouponCodeDetail":{"CouponCodeName":"","Value":"0","Type":"","IsDirty":false,"IsFlagForDelete":false},"OrderBoggiItems":[{"ID":67687,"IDTestata":"WEBD00152044","NumRiga":1,"CodArticolo":"BO16A031601","Taglia":"XXXL","Quantita":1,"QuantitaFatturata":1,"Prezzo":44.5,"OrderStatus":3,"UserID":"000116609","LastDataModified_wb":"/Date(1480803747000)/","DescrizioneArt":"CAMICIA IN COTONE OPERATO CON COLLO SEMI CHIUSO E TAILORED FIT","VoceDoganale":"62052000","MadeIn":"MA","Composizione":"100%CO","GiftCardCode":"","Omaggio":0,"PrezzoAcquisto":44.5,"LastSeason":"16A","GroupCode":38,"GroupDescription":"Camicie Sportive","PrezzoScontato":0,"PrezzoAcquistoScontato":0,"ScontoPrezzo":0,"ScontoPrezzoAcquisto":0,"PrezzoEUR":44.5,"IsVirtualItem":false,"DiscountLabel":"LOY_50","DiscountValue":-44.5,"DiscountValueEUR":-44.5,"WarehouseAvailability":0,"IsDirty":false,"IsFlagForDelete":false},{"ID":67688,"IDTestata":"WEBD00152044","NumRiga":2,"CodArticolo":"BO16A053202","Taglia":"UN.","Quantita":1,"QuantitaFatturata":1,"Prezzo":7.45,"OrderStatus":3,"UserID":"000116609","LastDataModified_wb":"/Date(1480803747000)/","DescrizioneArt":"CALZA LUNGA RIGATA IN COTONE - MADE IN ITALY","VoceDoganale":"61159500","MadeIn":"IT","Composizione":"80%CO 18%PA 2%EA","GiftCardCode":"","Omaggio":0,"PrezzoAcquisto":7.45,"LastSeason":"16A","GroupCode":30,"GroupDescription":"Calze","PrezzoScontato":0,"PrezzoAcquistoScontato":0,"ScontoPrezzo":0,"ScontoPrezzoAcquisto":0,"PrezzoEUR":7.45,"IsVirtualItem":false,"DiscountLabel":"LOY_50","DiscountValue":-7.45,"DiscountValueEUR":-7.45,"WarehouseAvailability":11,"IsDirty":false,"IsFlagForDelete":false},{"ID":67689,"IDTestata":"WEBD00152044","NumRiga":3,"CodArticolo":"BO16A054105","Taglia":"UN.","Quantita":1,"QuantitaFatturata":1,"Prezzo":7.45,"OrderStatus":3,"UserID":"000116609","LastDataModified_wb":"/Date(1480803747000)/","DescrizioneArt":"CALZA LUNGA IN COTONE E FANTASIA PARI RIGA - MADE IN ITALY","VoceDoganale":"61159500","MadeIn":"IT","Composizione":"80%CO 18%PA 2%EA","GiftCardCode":"","Omaggio":0,"PrezzoAcquisto":7.45,"LastSeason":"16A","GroupCode":30,"GroupDescription":"Calze","PrezzoScontato":0,"PrezzoAcquistoScontato":0,"ScontoPrezzo":0,"ScontoPrezzoAcquisto":0,"PrezzoEUR":7.45,"IsVirtualItem":false,"DiscountLabel":"LOY_50","DiscountValue":-7.45,"DiscountValueEUR":-7.45,"WarehouseAvailability":9,"IsDirty":false,"IsFlagForDelete":false},{"ID":67690,"IDTestata":"WEBD00152044","NumRiga":4,"CodArticolo":"BO16A054102","Taglia":"UN.","Quantita":1,"QuantitaFatturata":1,"Prezzo":7.45,"OrderStatus":3,"UserID":"000116609","LastDataModified_wb":"/Date(1480803747000)/","DescrizioneArt":"CALZA LUNGA IN COTONE E FANTASIA PARI RIGA - MADE IN ITALY","VoceDoganale":"61159500","MadeIn":"IT","Composizione":"80%CO 18%PA 2%EA","GiftCardCode":"","Omaggio":0,"PrezzoAcquisto":7.45,"LastSeason":"16A","GroupCode":30,"GroupDescription":"Calze","PrezzoScontato":0,"PrezzoAcquistoScontato":0,"ScontoPrezzo":0,"ScontoPrezzoAcquisto":0,"PrezzoEUR":7.45,"IsVirtualItem":false,"DiscountLabel":"LOY_50","DiscountValue":-7.45,"DiscountValueEUR":-7.45,"WarehouseAvailability":30,"IsDirty":false,"IsFlagForDelete":false},{"ID":67691,"IDTestata":"WEBD00152044","NumRiga":5,"CodArticolo":"BO16A029703","Taglia":"40","Quantita":1,"QuantitaFatturata":1,"Prezzo":59.5,"OrderStatus":3,"UserID":"000116609","LastDataModified_wb":"/Date(1480803747000)/","DescrizioneArt":"5 TASCHE IN COTONE ARMATURATO STRETCH LAVATO - MADE IN ITALY","VoceDoganale":"62034235","MadeIn":"IT","Composizione":"98%CO 2%EA","GiftCardCode":"","Omaggio":0,"PrezzoAcquisto":59.5,"LastSeason":"16A","GroupCode":8,"GroupDescription":"Jeans","PrezzoScontato":0,"PrezzoAcquistoScontato":0,"ScontoPrezzo":0,"ScontoPrezzoAcquisto":0,"PrezzoEUR":59.5,"IsVirtualItem":false,"DiscountLabel":"LOY_50","DiscountValue":-59.5,"DiscountValueEUR":-59.5,"WarehouseAvailability":3,"IsDirty":false,"IsFlagForDelete":false},{"ID":67692,"IDTestata":"WEBD00152044","NumRiga":6,"CodArticolo":"BO16A055901","Taglia":"100","Quantita":1,"QuantitaFatturata":1,"Prezzo":139.5,"OrderStatus":3,"UserID":"000116609","LastDataModified_wb":"/Date(1480803747000)/","DescrizioneArt":"MOCASSINO CON FIBBIA IN PELLE - MADE IN ITALY","VoceDoganale":"64035991","MadeIn":"IT","Composizione":"100%LE","GiftCardCode":"","Omaggio":0,"PrezzoAcquisto":139.5,"LastSeason":"16A","GroupCode":15,"GroupDescription":"Scarpe","PrezzoScontato":0,"PrezzoAcquistoScontato":0,"ScontoPrezzo":0,"ScontoPrezzoAcquisto":0,"PrezzoEUR":139.5,"IsVirtualItem":false,"DiscountLabel":"LOY_50","DiscountValue":-139.5,"DiscountValueEUR":-139.5,"WarehouseAvailability":1,"IsDirty":false,"IsFlagForDelete":false}],"ShippingFees":0,"ScontoTestata":0,"Currency":"EUR","CaptureConfirmation":"1514809332107921","CaptureDate":"/Date(1480933210000)/","RemoteHost":"130.25.102.69","CostoSpedizioneEur":0,"TotaleEur":531.7,"ScontoEur":265.85,"TotaleScontatoEur":265.85,"GiftCardFee":0,"GiftCardFeeEur":0,"SourceID":1,"MasterOrder":"0","OrderBoggiAttribute":[{"ID":367285,"NumOrdine":"WEBD00152044","AttributeKey":"originalReference","AttributeValue":"","EventDate":"/Date(1480803748000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":367286,"NumOrdine":"WEBD00152044","AttributeKey":"reason","AttributeValue":"999596:6787:05/2017","EventDate":"/Date(1480803748000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":367287,"NumOrdine":"WEBD00152044","AttributeKey":"additionalData.authCode","AttributeValue":"999596","EventDate":"/Date(1480803748000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":367288,"NumOrdine":"WEBD00152044","AttributeKey":"additionalData.issuerCountry","AttributeValue":"IT","EventDate":"/Date(1480803748000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":367289,"NumOrdine":"WEBD00152044","AttributeKey":"additionalData.expiryDate","AttributeValue":"05/2017","EventDate":"/Date(1480803748000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":367290,"NumOrdine":"WEBD00152044","AttributeKey":"additionalData.cardSummary","AttributeValue":"6787","EventDate":"/Date(1480803748000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":367291,"NumOrdine":"WEBD00152044","AttributeKey":"merchantAccountCode","AttributeValue":"BoggiIT","EventDate":"/Date(1480803748000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":367292,"NumOrdine":"WEBD00152044","AttributeKey":"eventCode","AttributeValue":"AUTHORISATION","EventDate":"/Date(1480803748000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":367293,"NumOrdine":"WEBD00152044","AttributeKey":"operations","AttributeValue":"CANCEL,CAPTURE,REFUND","EventDate":"/Date(1480803748000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":367294,"NumOrdine":"WEBD00152044","AttributeKey":"success","AttributeValue":"true","EventDate":"/Date(1480803748000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":367295,"NumOrdine":"WEBD00152044","AttributeKey":"paymentMethod","AttributeValue":"mc","EventDate":"/Date(1480803748000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":367296,"NumOrdine":"WEBD00152044","AttributeKey":"currency","AttributeValue":"EUR","EventDate":"/Date(1480803748000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":367297,"NumOrdine":"WEBD00152044","AttributeKey":"pspReference","AttributeValue":"1714808037480615","EventDate":"/Date(1480803748000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":367298,"NumOrdine":"WEBD00152044","AttributeKey":"merchantReference","AttributeValue":"WEBD00152044","EventDate":"/Date(1480803748000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":367299,"NumOrdine":"WEBD00152044","AttributeKey":"value","AttributeValue":"1585","EventDate":"/Date(1480803748000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":367300,"NumOrdine":"WEBD00152044","AttributeKey":"live","AttributeValue":"true","EventDate":"/Date(1480803748000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":367301,"NumOrdine":"WEBD00152044","AttributeKey":"eventDate","AttributeValue":"2016-12-03T22:22:28.04Z","EventDate":"/Date(1480803748000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":367368,"NumOrdine":"WEBD00152044","AttributeKey":"Adyen_eventCode","AttributeValue":"AUTHORISATION","EventDate":"/Date(1480807803000)/","OrderBoggiAttributeType":6,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":367369,"NumOrdine":"WEBD00152044","AttributeKey":"Adyen_paymentMethod","AttributeValue":"mc","EventDate":"/Date(1480807803000)/","OrderBoggiAttributeType":6,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":367370,"NumOrdine":"WEBD00152044","AttributeKey":"Adyen_pspReference","AttributeValue":"1714808037480615","EventDate":"/Date(1480807803000)/","OrderBoggiAttributeType":6,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":367371,"NumOrdine":"WEBD00152044","AttributeKey":"Adyen_refusalReason","AttributeValue":"undefined","EventDate":"/Date(1480807803000)/","OrderBoggiAttributeType":6,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":367372,"NumOrdine":"WEBD00152044","AttributeKey":"Adyen_value","AttributeValue":"1585","EventDate":"/Date(1480807803000)/","OrderBoggiAttributeType":6,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":367373,"NumOrdine":"WEBD00152044","AttributeKey":"InvoiceRequest","AttributeValue":"false","EventDate":"/Date(1480807803000)/","OrderBoggiAttributeType":6,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":367374,"NumOrdine":"WEBD00152044","AttributeKey":"acceptingSalesConditions","AttributeValue":"true","EventDate":"/Date(1480807803000)/","OrderBoggiAttributeType":6,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":367375,"NumOrdine":"WEBD00152044","AttributeKey":"isShipToStore","AttributeValue":"false","EventDate":"/Date(1480807803000)/","OrderBoggiAttributeType":6,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":367376,"NumOrdine":"WEBD00152044","AttributeKey":"privacyPolicy","AttributeValue":"false","EventDate":"/Date(1480807803000)/","OrderBoggiAttributeType":6,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":367377,"NumOrdine":"WEBD00152044","AttributeKey":"sendingInvoiceEmail","AttributeValue":"mbenasedo@mixereventi.com","EventDate":"/Date(1480807803000)/","OrderBoggiAttributeType":6,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":372898,"NumOrdine":"WEBD00152044","AttributeKey":"AdyenResponse","AttributeValue":"{\"pspReference\":\"1514809332107921\",\"response\":\"[capture-received]\"}","EventDate":"/Date(1480933210000)/","OrderBoggiAttributeType":3,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":384180,"NumOrdine":"WEBD00152044","AttributeKey":"KeepIT Exported","AttributeValue":"true","EventDate":"/Date(1481105534000)/","OrderBoggiAttributeType":4,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":420609,"NumOrdine":"WEBD00152044","AttributeKey":"Delivery Date BRT","AttributeValue":"2016-12-09 17:42:00","EventDate":"/Date(1481544001000)/","OrderBoggiAttributeType":2,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":882940,"NumOrdine":"WEBD00152044","AttributeKey":"Demandware customer number","AttributeValue":"000116609","EventDate":"/Date(1485967154000)/","OrderBoggiAttributeType":10,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":882941,"NumOrdine":"WEBD00152044","AttributeKey":"Demandware customer ID","AttributeValue":"ab1B0Odqzml5g21X9zgTpKW6AY","EventDate":"/Date(1485967154000)/","OrderBoggiAttributeType":10,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":882942,"NumOrdine":"WEBD00152044","AttributeKey":"Demandware customer Firstname","AttributeValue":"MARCO","EventDate":"/Date(1485967154000)/","OrderBoggiAttributeType":10,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":882943,"NumOrdine":"WEBD00152044","AttributeKey":"Demandware customer Lastname","AttributeValue":"BENASEDO","EventDate":"/Date(1485967154000)/","OrderBoggiAttributeType":10,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":882944,"NumOrdine":"WEBD00152044","AttributeKey":"Demandware customer Creation date","AttributeValue":"2016-07-30T15:33:08.000Z","EventDate":"/Date(1485967154000)/","OrderBoggiAttributeType":10,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":1031533,"NumOrdine":"WEBD00152044","AttributeKey":"TimeZone","AttributeValue":"Europe/Rome","EventDate":"/Date(1487165300000)/","OrderBoggiAttributeType":11,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":1031534,"NumOrdine":"WEBD00152044","AttributeKey":"TimeZoneOffSet","AttributeValue":"3600","EventDate":"/Date(1487165300000)/","OrderBoggiAttributeType":11,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":1031535,"NumOrdine":"WEBD00152044","AttributeKey":"TimeZoneJson","AttributeValue":"{\"as\":\"AS30722 Vodafone Omnitel B.V.\",\"city\":\"Bollate\",\"country\":\"Italy\",\"countryCode\":\"IT\",\"isp\":\"Vodafone Italia DSL\",\"lat\":45.5272,\"lon\":9.1172,\"org\":\"Vodafone Italia DSL\",\"query\":\"130.25.102.69\",\"region\":\"25\",\"regionName\":\"Lombardy\",\"status\":\"success\",\"timezone\":\"Europe/Rome\",\"zip\":\"20021\"}","EventDate":"/Date(1487165300000)/","OrderBoggiAttributeType":11,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false}],"OrderBoggiPaymentCapture":[{"ID":4633,"OrderNumber":"WEBD00152044","PaymentType":1,"Currency":"EUR","CaptureAmount":265.85,"CaptureDate":"/Date(1480933210000)/","CaptureAuth":"1514809332107921","CaptureType":1,"IsDirty":false,"IsFlagForDelete":false}],"Payments":null,"CreditNotes":[],"ReturnCases":[],"NavisionInvoices":null,"ShopUpsellings":null,"TrackingUrl":["http://as777.bartolini.it/vas/sped_ricdocmit_load.hsm?rma=WEBD00152044&ksu=0896641&refer=https://shop.boggi.com online.asp"],"Boxes":[{"ID":6612,"OrderNumber":"WEBD00152044","InternalShipping":"SP16-043008","Carton":"SC0413102","Weight":2.7,"CartonCode":"SP","Length":360,"Width":243,"Height":190,"IsDirty":false,"IsFlagForDelete":false}],"SDenominazioneOriginale":"MARCO BENASEDO","SIndirizzoOriginale":"VIA FRISI 22","SIndirizzo2Originale":"NULL","SCapOriginale":"20900","SComuneOriginale":"MONZA","SProvinciaOriginale":"Monza-Brianza","TotaleScontoTestata":0,"TotaleScontoTestata_EUR":0,"CourierName":"Bartolini","OrchestrationList":[],"CourierEventList":[{"ID":86185,"EventDate":"/Date(1481301720000)/","Description":"Delivered","EventCode":"DL","City":"MONZA","Country":"IT","ExceptionEventCode":"DL","ExceptionEventDescription":"Delivered","OrderNumber":"WEBD00152044","TrackingNumber":"249342","IsDirty":false,"IsFlagForDelete":false}],"OrderFilesList":[],"NavisionInvoice":"IN16-005509","IsDirty":false,"IsFlagForDelete":false},{"CostoImballo":0,"CostoDazio":0,"ID":24522,"NumOrdine":"WEBD00009340","OrdineOriginale":"","DataOrdine":"/Date(1472028058000)/","DataIngressoSistema":"/Date(1472031903000)/","FDenominazione":"Marco Benasedo","FRagioneSociale":"","FIndirizzo":"Via Mazzini 8/10","FIndirizzo2":"","FCAP":"55042","FComune":"Forte dei Marmi","FProvincia":"LUCCA","Femail":"mbenasedo@mixereventi.com","FTelefono":"+39 3482632290","FCodFiscale":"","FPartitaIVA":"","SDenominazione":"Marco Benasedo","SRagioneSociale":"","SIndirizzo":"Via Mazzini 8/10","SIndirizzo2":"","SCAP":"55042","SComune":"Forte dei Marmi","SProvincia":"LUCCA","Semail":"mbenasedo@mixereventi.com","STelefono":"+39 3482632290","SCodFiscale":"","SPartitaIVA":"","CodAutorizzazione":"1N165046R30721638","TipoPagamento":"PPL","OrderType":1000,"Messaggio":"","CostoSpedizione":14,"TimeStamp":"/Date(1489069830000)/","OrderStatus":10,"UserID":"000116609","Lastdatamodified_wb":"/Date(1472028058000)/","FCodisoNaz":"IT","SCodisoNaz":"IT","NumFatt":"CO0000002236","PesoOrdine":1.56,"ColliOrdine":1,"UsedCoupons":"LOY_50","Totale":200,"Sconto":93,"TotaleScontato":107,"Language":"it_IT","AreaCode":"","CodCampagna":"","OrdineRegalo":"False","ValutatoPerNC":0,"RichiestaFattura":"N","Guest":"Y","CouponCodeDetail":{"CouponCodeName":"LOY_50","Value":"0","Type":"","IsDirty":false,"IsFlagForDelete":false},"OrderBoggiItems":[{"ID":56934,"IDTestata":"WEBD00009340","NumRiga":1,"CodArticolo":"BO16A031601","Taglia":"XXXL","Quantita":1,"QuantitaFatturata":1,"Prezzo":89,"OrderStatus":3,"UserID":"000116609","LastDataModified_wb":"/Date(1472028058000)/","DescrizioneArt":"CAMICIA IN COTONE OPERATO CON COLLO SEMI CHIUSO E TAILORED FIT","VoceDoganale":"62052000","MadeIn":"MA","Composizione":"100%CO","GiftCardCode":"","Omaggio":0,"PrezzoAcquisto":89,"LastSeason":"16A","GroupCode":38,"GroupDescription":"Camicie Sportive","PrezzoScontato":0,"PrezzoAcquistoScontato":0,"ScontoPrezzo":0,"ScontoPrezzoAcquisto":0,"PrezzoEUR":89,"IsVirtualItem":false,"DiscountLabel":"","DiscountValue":0,"DiscountValueEUR":0,"WarehouseAvailability":0,"IsDirty":false,"IsFlagForDelete":false},{"ID":56935,"IDTestata":"WEBD00009340","NumRiga":2,"CodArticolo":"BO14C014702","Taglia":"XXL","Quantita":2,"QuantitaFatturata":2,"Prezzo":38,"OrderStatus":3,"UserID":"000116609","LastDataModified_wb":"/Date(1472028058000)/","DescrizioneArt":"PARIGAMBA IN COTONE STRETCH","VoceDoganale":"61071100","MadeIn":"CN","Composizione":"CO 95 EA 5","GiftCardCode":"","Omaggio":0,"PrezzoAcquisto":38,"LastSeason":"NOOS","GroupCode":45,"GroupDescription":"Intimo","PrezzoScontato":0,"PrezzoAcquistoScontato":0,"ScontoPrezzo":0,"ScontoPrezzoAcquisto":0,"PrezzoEUR":38,"IsVirtualItem":false,"DiscountLabel":"","DiscountValue":0,"DiscountValueEUR":0,"WarehouseAvailability":0,"IsDirty":false,"IsFlagForDelete":false},{"ID":56936,"IDTestata":"WEBD00009340","NumRiga":3,"CodArticolo":"BO09C990801","Taglia":"46","Quantita":1,"QuantitaFatturata":1,"Prezzo":59,"OrderStatus":3,"UserID":"000116609","LastDataModified_wb":"/Date(1472028058000)/","DescrizioneArt":"CAMICIA COTONE POPELINE DOPPIO RITORTO","VoceDoganale":"62052000","MadeIn":"CN","Composizione":"CO 100","GiftCardCode":"","Omaggio":0,"PrezzoAcquisto":59,"LastSeason":"NOOS","GroupCode":11,"GroupDescription":"Camicie Classiche","PrezzoScontato":0,"PrezzoAcquistoScontato":0,"ScontoPrezzo":0,"ScontoPrezzoAcquisto":0,"PrezzoEUR":59,"IsVirtualItem":false,"DiscountLabel":"","DiscountValue":0,"DiscountValueEUR":0,"WarehouseAvailability":0,"IsDirty":false,"IsFlagForDelete":false}],"ShippingFees":0,"ScontoTestata":93,"Currency":"EUR","CaptureConfirmation":"67V063644G890925B","CaptureDate":"/Date(1472050814000)/","RemoteHost":"176.244.36.87","CostoSpedizioneEur":14,"TotaleEur":200,"ScontoEur":93,"TotaleScontatoEur":107,"GiftCardFee":0,"GiftCardFeeEur":0,"SourceID":0,"MasterOrder":"0","OrderBoggiAttribute":[{"ID":24865,"NumOrdine":"WEBD00009340","AttributeKey":"RECEIVERBUSINESS","AttributeValue":"shoponline@boggi.com","EventDate":"/Date(1472031902000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24866,"NumOrdine":"WEBD00009340","AttributeKey":"RECEIVEREMAIL","AttributeValue":"shoponline@boggi.com","EventDate":"/Date(1472031902000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24867,"NumOrdine":"WEBD00009340","AttributeKey":"RECEIVERID","AttributeValue":"QRRFENDSSUX8E","EventDate":"/Date(1472031902000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24868,"NumOrdine":"WEBD00009340","AttributeKey":"EMAIL","AttributeValue":"marco.benasedo@krnitaly.eu","EventDate":"/Date(1472031902000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24869,"NumOrdine":"WEBD00009340","AttributeKey":"PAYERID","AttributeValue":"JCCQATN7UN7A4","EventDate":"/Date(1472031902000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24870,"NumOrdine":"WEBD00009340","AttributeKey":"PAYERSTATUS","AttributeValue":"verified","EventDate":"/Date(1472031902000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24871,"NumOrdine":"WEBD00009340","AttributeKey":"COUNTRYCODE","AttributeValue":"IT","EventDate":"/Date(1472031902000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24872,"NumOrdine":"WEBD00009340","AttributeKey":"SHIPTONAME","AttributeValue":"Marco Benasedo","EventDate":"/Date(1472031902000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24873,"NumOrdine":"WEBD00009340","AttributeKey":"SHIPTOSTREET","AttributeValue":"Via Mazzini 8/10","EventDate":"/Date(1472031902000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24874,"NumOrdine":"WEBD00009340","AttributeKey":"SHIPTOCITY","AttributeValue":"Forte dei Marmi","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24875,"NumOrdine":"WEBD00009340","AttributeKey":"SHIPTOSTATE","AttributeValue":"LUCCA","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24876,"NumOrdine":"WEBD00009340","AttributeKey":"SHIPTOCOUNTRYCODE","AttributeValue":"IT","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24877,"NumOrdine":"WEBD00009340","AttributeKey":"SHIPTOCOUNTRYNAME","AttributeValue":"Italy","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24878,"NumOrdine":"WEBD00009340","AttributeKey":"SHIPTOZIP","AttributeValue":"55042","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24879,"NumOrdine":"WEBD00009340","AttributeKey":"ADDRESSOWNER","AttributeValue":"PayPal","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24880,"NumOrdine":"WEBD00009340","AttributeKey":"ADDRESSSTATUS","AttributeValue":"Confirmed","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24881,"NumOrdine":"WEBD00009340","AttributeKey":"SHIPTOPHONENUM","AttributeValue":"+39 3482632290","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24882,"NumOrdine":"WEBD00009340","AttributeKey":"INVNUM","AttributeValue":"WEBD00009340","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24883,"NumOrdine":"WEBD00009340","AttributeKey":"SALESTAX","AttributeValue":"0.00","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24884,"NumOrdine":"WEBD00009340","AttributeKey":"GIFTRECEIPT","AttributeValue":"0","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24885,"NumOrdine":"WEBD00009340","AttributeKey":"TIMESTAMP","AttributeValue":"2016-08-24T09:45:02Z","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24886,"NumOrdine":"WEBD00009340","AttributeKey":"CORRELATIONID","AttributeValue":"cad6277d633eb","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24887,"NumOrdine":"WEBD00009340","AttributeKey":"ACK","AttributeValue":"Success","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24888,"NumOrdine":"WEBD00009340","AttributeKey":"VERSION","AttributeValue":"95","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24889,"NumOrdine":"WEBD00009340","AttributeKey":"BUILD","AttributeValue":"000000","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24890,"NumOrdine":"WEBD00009340","AttributeKey":"FIRSTNAME","AttributeValue":"GEBBIA","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24891,"NumOrdine":"WEBD00009340","AttributeKey":"LASTNAME","AttributeValue":"MICHAELA","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24892,"NumOrdine":"WEBD00009340","AttributeKey":"TRANSACTIONID","AttributeValue":"1N165046R30721638","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24893,"NumOrdine":"WEBD00009340","AttributeKey":"TRANSACTIONTYPE","AttributeValue":"cart","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24894,"NumOrdine":"WEBD00009340","AttributeKey":"PAYMENTTYPE","AttributeValue":"instant","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24895,"NumOrdine":"WEBD00009340","AttributeKey":"ORDERTIME","AttributeValue":"2016-08-24T08:41:01Z","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24896,"NumOrdine":"WEBD00009340","AttributeKey":"AMT","AttributeValue":"157.00","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24897,"NumOrdine":"WEBD00009340","AttributeKey":"TAXAMT","AttributeValue":"0.00","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24898,"NumOrdine":"WEBD00009340","AttributeKey":"SHIPPINGAMT","AttributeValue":"14.00","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24899,"NumOrdine":"WEBD00009340","AttributeKey":"HANDLINGAMT","AttributeValue":"0.00","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24900,"NumOrdine":"WEBD00009340","AttributeKey":"CURRENCYCODE","AttributeValue":"EUR","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24901,"NumOrdine":"WEBD00009340","AttributeKey":"PAYMENTSTATUS","AttributeValue":"Pending","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24902,"NumOrdine":"WEBD00009340","AttributeKey":"PENDINGREASON","AttributeValue":"authorization","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24903,"NumOrdine":"WEBD00009340","AttributeKey":"REASONCODE","AttributeValue":"None","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24904,"NumOrdine":"WEBD00009340","AttributeKey":"PROTECTIONELIGIBILITY","AttributeValue":"Eligible","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24905,"NumOrdine":"WEBD00009340","AttributeKey":"PROTECTIONELIGIBILITYTYPE","AttributeValue":"ItemNotReceivedEligible,UnauthorizedPaymentEligible","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24906,"NumOrdine":"WEBD00009340","AttributeKey":"L_NAME0","AttributeValue":"CAMICIA IN COTONE OPERATO CON COLLO SEMI CHIUSO E TAILORED FIT","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24907,"NumOrdine":"WEBD00009340","AttributeKey":"L_NAME1","AttributeValue":"PARIGAMBA IN COTONE STRETCH","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24908,"NumOrdine":"WEBD00009340","AttributeKey":"L_NAME2","AttributeValue":"CAMICIA COTONE POPELINE DOPPIO RITORTO","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24909,"NumOrdine":"WEBD00009340","AttributeKey":"L_NAME3","AttributeValue":"Gift Certificate","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24910,"NumOrdine":"WEBD00009340","AttributeKey":"L_NUMBER0","AttributeValue":"BO16A031601_XXXL","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24911,"NumOrdine":"WEBD00009340","AttributeKey":"L_NUMBER1","AttributeValue":"BO14C014702_XXL","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24912,"NumOrdine":"WEBD00009340","AttributeKey":"L_NUMBER2","AttributeValue":"BO09C990801_46","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24913,"NumOrdine":"WEBD00009340","AttributeKey":"L_NUMBER3","AttributeValue":"Gift Certificate","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24914,"NumOrdine":"WEBD00009340","AttributeKey":"L_QTY0","AttributeValue":"1","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24915,"NumOrdine":"WEBD00009340","AttributeKey":"L_QTY1","AttributeValue":"2","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24916,"NumOrdine":"WEBD00009340","AttributeKey":"L_QTY2","AttributeValue":"1","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24917,"NumOrdine":"WEBD00009340","AttributeKey":"L_QTY3","AttributeValue":"1","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24918,"NumOrdine":"WEBD00009340","AttributeKey":"L_TAXAMT0","AttributeValue":"0.00","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24919,"NumOrdine":"WEBD00009340","AttributeKey":"L_TAXAMT1","AttributeValue":"0.00","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24920,"NumOrdine":"WEBD00009340","AttributeKey":"L_TAXAMT2","AttributeValue":"0.00","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24921,"NumOrdine":"WEBD00009340","AttributeKey":"L_TAXAMT3","AttributeValue":"0.00","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24922,"NumOrdine":"WEBD00009340","AttributeKey":"L_SHIPPINGAMT0","AttributeValue":"0.00","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24923,"NumOrdine":"WEBD00009340","AttributeKey":"L_SHIPPINGAMT1","AttributeValue":"0.00","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24924,"NumOrdine":"WEBD00009340","AttributeKey":"L_SHIPPINGAMT2","AttributeValue":"0.00","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24925,"NumOrdine":"WEBD00009340","AttributeKey":"L_SHIPPINGAMT3","AttributeValue":"0.00","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24926,"NumOrdine":"WEBD00009340","AttributeKey":"L_HANDLINGAMT0","AttributeValue":"0.00","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24927,"NumOrdine":"WEBD00009340","AttributeKey":"L_HANDLINGAMT1","AttributeValue":"0.00","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24928,"NumOrdine":"WEBD00009340","AttributeKey":"L_HANDLINGAMT2","AttributeValue":"0.00","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24929,"NumOrdine":"WEBD00009340","AttributeKey":"L_HANDLINGAMT3","AttributeValue":"0.00","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24930,"NumOrdine":"WEBD00009340","AttributeKey":"L_CURRENCYCODE0","AttributeValue":"EUR","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24931,"NumOrdine":"WEBD00009340","AttributeKey":"L_CURRENCYCODE1","AttributeValue":"EUR","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24932,"NumOrdine":"WEBD00009340","AttributeKey":"L_CURRENCYCODE2","AttributeValue":"EUR","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24933,"NumOrdine":"WEBD00009340","AttributeKey":"L_CURRENCYCODE3","AttributeValue":"EUR","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24934,"NumOrdine":"WEBD00009340","AttributeKey":"L_TAXABLE0","AttributeValue":"false","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24935,"NumOrdine":"WEBD00009340","AttributeKey":"L_TAXABLE1","AttributeValue":"false","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24936,"NumOrdine":"WEBD00009340","AttributeKey":"L_TAXABLE2","AttributeValue":"false","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24937,"NumOrdine":"WEBD00009340","AttributeKey":"L_TAXABLE3","AttributeValue":"false","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24938,"NumOrdine":"WEBD00009340","AttributeKey":"L_TAXRATE0","AttributeValue":"0.0","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24939,"NumOrdine":"WEBD00009340","AttributeKey":"L_TAXRATE1","AttributeValue":"0.0","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24940,"NumOrdine":"WEBD00009340","AttributeKey":"L_TAXRATE2","AttributeValue":"0.0","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24941,"NumOrdine":"WEBD00009340","AttributeKey":"L_TAXRATE3","AttributeValue":"0.0","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24942,"NumOrdine":"WEBD00009340","AttributeKey":"L_AMT0","AttributeValue":"89.00","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24943,"NumOrdine":"WEBD00009340","AttributeKey":"L_AMT1","AttributeValue":"38.00","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24944,"NumOrdine":"WEBD00009340","AttributeKey":"L_AMT2","AttributeValue":"59.00","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24945,"NumOrdine":"WEBD00009340","AttributeKey":"L_AMT3","AttributeValue":"50.00","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24946,"NumOrdine":"WEBD00009340","AttributeKey":"INSURANCEOPTIONSELECTED","AttributeValue":"0","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":24947,"NumOrdine":"WEBD00009340","AttributeKey":"SHIPPINGOPTIONISDEFAULT","AttributeValue":"0","EventDate":"/Date(1472031903000)/","OrderBoggiAttributeType":1,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":25378,"NumOrdine":"WEBD00009340","AttributeKey":"AUTHORIZATIONID","AttributeValue":"1N165046R30721638","EventDate":"/Date(1472050814000)/","OrderBoggiAttributeType":3,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":25379,"NumOrdine":"WEBD00009340","AttributeKey":"TIMESTAMP","AttributeValue":"2016-08-24T15:00:14Z","EventDate":"/Date(1472050814000)/","OrderBoggiAttributeType":3,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":25380,"NumOrdine":"WEBD00009340","AttributeKey":"CORRELATIONID","AttributeValue":"6d9a775c43766","EventDate":"/Date(1472050814000)/","OrderBoggiAttributeType":3,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":25381,"NumOrdine":"WEBD00009340","AttributeKey":"ACK","AttributeValue":"Success","EventDate":"/Date(1472050814000)/","OrderBoggiAttributeType":3,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":25382,"NumOrdine":"WEBD00009340","AttributeKey":"VERSION","AttributeValue":"95","EventDate":"/Date(1472050814000)/","OrderBoggiAttributeType":3,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":25383,"NumOrdine":"WEBD00009340","AttributeKey":"BUILD","AttributeValue":"24764620","EventDate":"/Date(1472050814000)/","OrderBoggiAttributeType":3,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":25384,"NumOrdine":"WEBD00009340","AttributeKey":"TRANSACTIONID","AttributeValue":"67V063644G890925B","EventDate":"/Date(1472050814000)/","OrderBoggiAttributeType":3,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":25385,"NumOrdine":"WEBD00009340","AttributeKey":"PARENTTRANSACTIONID","AttributeValue":"1N165046R30721638","EventDate":"/Date(1472050814000)/","OrderBoggiAttributeType":3,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":25386,"NumOrdine":"WEBD00009340","AttributeKey":"TRANSACTIONTYPE","AttributeValue":"cart","EventDate":"/Date(1472050814000)/","OrderBoggiAttributeType":3,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":25387,"NumOrdine":"WEBD00009340","AttributeKey":"PAYMENTTYPE","AttributeValue":"instant","EventDate":"/Date(1472050814000)/","OrderBoggiAttributeType":3,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":25388,"NumOrdine":"WEBD00009340","AttributeKey":"ORDERTIME","AttributeValue":"2016-08-24T15:00:14Z","EventDate":"/Date(1472050814000)/","OrderBoggiAttributeType":3,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":25389,"NumOrdine":"WEBD00009340","AttributeKey":"AMT","AttributeValue":"107.00","EventDate":"/Date(1472050814000)/","OrderBoggiAttributeType":3,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":25390,"NumOrdine":"WEBD00009340","AttributeKey":"FEEAMT","AttributeValue":"2.28","EventDate":"/Date(1472050814000)/","OrderBoggiAttributeType":3,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":25391,"NumOrdine":"WEBD00009340","AttributeKey":"TAXAMT","AttributeValue":"0.00","EventDate":"/Date(1472050814000)/","OrderBoggiAttributeType":3,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":25392,"NumOrdine":"WEBD00009340","AttributeKey":"CURRENCYCODE","AttributeValue":"EUR","EventDate":"/Date(1472050814000)/","OrderBoggiAttributeType":3,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":25393,"NumOrdine":"WEBD00009340","AttributeKey":"PAYMENTSTATUS","AttributeValue":"Completed","EventDate":"/Date(1472050814000)/","OrderBoggiAttributeType":3,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":25394,"NumOrdine":"WEBD00009340","AttributeKey":"PENDINGREASON","AttributeValue":"None","EventDate":"/Date(1472050814000)/","OrderBoggiAttributeType":3,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":25395,"NumOrdine":"WEBD00009340","AttributeKey":"REASONCODE","AttributeValue":"None","EventDate":"/Date(1472050814000)/","OrderBoggiAttributeType":3,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":25396,"NumOrdine":"WEBD00009340","AttributeKey":"PROTECTIONELIGIBILITY","AttributeValue":"Eligible","EventDate":"/Date(1472050814000)/","OrderBoggiAttributeType":3,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":25397,"NumOrdine":"WEBD00009340","AttributeKey":"PROTECTIONELIGIBILITYTYPE","AttributeValue":"ItemNotReceivedEligible,UnauthorizedPaymentEligible","EventDate":"/Date(1472050814000)/","OrderBoggiAttributeType":3,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":28381,"NumOrdine":"WEBD00009340","AttributeKey":"Delivery Date BRT","AttributeValue":"2016-08-26 12:42:00","EventDate":"/Date(1472468400000)/","OrderBoggiAttributeType":2,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":518673,"NumOrdine":"WEBD00009340","AttributeKey":"KeepIT Exported","AttributeValue":"true","EventDate":"/Date(1482352348000)/","OrderBoggiAttributeType":4,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":1017617,"NumOrdine":"WEBD00009340","AttributeKey":"TimeZone","AttributeValue":"Europe/Rome","EventDate":"/Date(1487160498000)/","OrderBoggiAttributeType":11,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":1017618,"NumOrdine":"WEBD00009340","AttributeKey":"TimeZoneOffSet","AttributeValue":"3600","EventDate":"/Date(1487160498000)/","OrderBoggiAttributeType":11,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false},{"ID":1017619,"NumOrdine":"WEBD00009340","AttributeKey":"TimeZoneJson","AttributeValue":"{\"as\":\"AS30722 Vodafone Omnitel B.V.\",\"city\":\"Rome\",\"country\":\"Italy\",\"countryCode\":\"IT\",\"isp\":\"Vodafone Omnitel B.V.\",\"lat\":41.8919,\"lon\":12.5113,\"org\":\"Vodafone Omnitel B.V.\",\"query\":\"176.244.36.87\",\"region\":\"62\",\"regionName\":\"Latium\",\"status\":\"success\",\"timezone\":\"Europe/Rome\",\"zip\":\"00149\"}","EventDate":"/Date(1487160498000)/","OrderBoggiAttributeType":11,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false}],"OrderBoggiPaymentCapture":[{"ID":300,"OrderNumber":"WEBD00009340","PaymentType":2,"Currency":"EUR","CaptureAmount":107,"CaptureDate":"/Date(1472050814000)/","CaptureAuth":"67V063644G890925B","CaptureType":1,"IsDirty":false,"IsFlagForDelete":false}],"Payments":null,"CreditNotes":[],"ReturnCases":[],"NavisionInvoices":null,"ShopUpsellings":null,"TrackingUrl":["http://as777.bartolini.it/vas/sped_ricdocmit_load.hsm?rma=WEBD00009340&ksu=0896641&refer=https://shop.boggi.com online.asp"],"Boxes":[{"ID":2623,"OrderNumber":"WEBD00009340","InternalShipping":"SP16-030749","Carton":"SC0394252","Weight":1.34,"CartonCode":"E3","Length":390,"Width":300,"Height":120,"IsDirty":false,"IsFlagForDelete":false}],"SDenominazioneOriginale":"","SIndirizzoOriginale":"","SIndirizzo2Originale":"","SCapOriginale":"","SComuneOriginale":"","SProvinciaOriginale":"","TotaleScontoTestata":93,"TotaleScontoTestata_EUR":93,"CourierName":"Bartolini","OrchestrationList":[],"CourierEventList":[{"ID":84800,"EventDate":"/Date(1472208120000)/","Description":"Delivered","EventCode":"DL","City":"Forte dei Marmi","Country":"IT","ExceptionEventCode":"DL","ExceptionEventDescription":"Delivered","OrderNumber":"WEBD00009340","TrackingNumber":"171695","IsDirty":false,"IsFlagForDelete":false}],"OrderFilesList":[],"NavisionInvoice":"IN16-003906","IsDirty":false,"IsFlagForDelete":false},{"CostoImballo":0,"CostoDazio":0,"ID":24229,"NumOrdine":"WEBD00007212","OrdineOriginale":"","DataOrdine":"/Date(1470517634000)/","DataIngressoSistema":"/Date(1470598381000)/","FDenominazione":"Marco Benasedo","FRagioneSociale":"","FIndirizzo":"Via Mazzini 8/10","FIndirizzo2":"","FCAP":"55042","FComune":"Forte dei Marmi","FProvincia":"LUCCA","Femail":"mbenasedo@mixereventi.com","FTelefono":"3482632290","FCodFiscale":"","FPartitaIVA":"","SDenominazione":"Marco Benasedo","SRagioneSociale":"","SIndirizzo":"Via Mazzini 8/10","SIndirizzo2":"","SCAP":"55042","SComune":"Forte dei Marmi","SProvincia":"LUCCA","Semail":"mbenasedo@mixereventi.com","STelefono":"3482632290","SCodFiscale":"","SPartitaIVA":"","CodAutorizzazione":"7V004885FF7452215","TipoPagamento":"PPL","OrderType":1000,"Messaggio":"","CostoSpedizione":7,"TimeStamp":"/Date(1489069828000)/","OrderStatus":10,"UserID":"000116609","Lastdatamodified_wb":"/Date(1470517634000)/","FCodisoNaz":"IT","SCodisoNaz":"IT","NumFatt":"CO0000002160","PesoOrdine":1.2,"ColliOrdine":1,"UsedCoupons":"promobenny","Totale":83.3,"Sconto":38.15,"TotaleScontato":45.15,"Language":"it_IT","AreaCode":"","CodCampagna":"","OrdineRegalo":"False","ValutatoPerNC":0,"RichiestaFattura":"N","Guest":"Y","CouponCodeDetail":{"CouponCodeName":"promobenny","Value":"0","Type":"","IsDirty":false,"IsFlagForDelete":false},"OrderBoggiItems":[{"ID":56236,"IDTestata":"WEBD00007212","NumRiga":1,"CodArticolo":"BO16P072205","Taglia":"11","Quantita":1,"QuantitaFatturata":1,"Prezzo":76.3,"OrderStatus":3,"UserID":"000116609","LastDataModified_wb":"/Date(1470517634000)/","DescrizioneArt":"MOCASSINO SCAMOSCIATO FIOCCATO","VoceDoganale":"64035995","MadeIn":"TN","Composizione":"100%LE","GiftCardCode":"","Omaggio":0,"PrezzoAcquisto":76.3,"LastSeason":"16P","GroupCode":15,"GroupDescription":"Scarpe","PrezzoScontato":0,"PrezzoAcquistoScontato":0,"ScontoPrezzo":0,"ScontoPrezzoAcquisto":0,"PrezzoEUR":76.3,"IsVirtualItem":false,"DiscountLabel":"","DiscountValue":0,"DiscountValueEUR":0,"WarehouseAvailability":0,"IsDirty":false,"IsFlagForDelete":false}],"ShippingFees":0,"ScontoTestata":38.15,"Currency":"EUR","CaptureConfirmation":"old","CaptureDate":"/Date(-2208992400000)/","RemoteHost":"0","CostoSpedizioneEur":7,"TotaleEur":83.3,"ScontoEur":38.15,"TotaleScontatoEur":45.15,"GiftCardFee":0,"GiftCardFeeEur":0,"SourceID":0,"MasterOrder":"0","OrderBoggiAttribute":[{"ID":523292,"NumOrdine":"WEBD00007212","AttributeKey":"KeepIT Exported","AttributeValue":"true","EventDate":"/Date(1482437783000)/","OrderBoggiAttributeType":4,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false}],"OrderBoggiPaymentCapture":[{"ID":25,"OrderNumber":"WEBD00007212","PaymentType":2,"Currency":"EUR","CaptureAmount":45.15,"CaptureDate":"/Date(-2208992400000)/","CaptureAuth":"old","CaptureType":1,"IsDirty":false,"IsFlagForDelete":false}],"Payments":null,"CreditNotes":[],"ReturnCases":[],"NavisionInvoices":null,"ShopUpsellings":null,"TrackingUrl":["http://as777.bartolini.it/vas/sped_ricdocmit_load.hsm?rma=WEBD00007212&ksu=0896641&refer=https://shop.boggi.com online.asp"],"Boxes":[{"ID":2478,"OrderNumber":"WEBD00007212","InternalShipping":"SP16-028395","Carton":"SC0388560","Weight":1.02,"CartonCode":"E5","Length":360,"Width":210,"Height":140,"IsDirty":false,"IsFlagForDelete":false}],"SDenominazioneOriginale":"","SIndirizzoOriginale":"","SIndirizzo2Originale":"","SCapOriginale":"","SComuneOriginale":"","SProvinciaOriginale":"","TotaleScontoTestata":38.15,"TotaleScontoTestata_EUR":38.15,"CourierName":"Bartolini","OrchestrationList":[],"CourierEventList":[{"ID":84730,"EventDate":"/Date(1470822840000)/","Description":"Delivered","EventCode":"DL","City":"Forte dei Marmi","Country":"IT","ExceptionEventCode":"DL","ExceptionEventDescription":"Delivered","OrderNumber":"WEBD00007212","TrackingNumber":"165637","IsDirty":false,"IsFlagForDelete":false}],"OrderFilesList":[],"NavisionInvoice":"IN16-003616","IsDirty":false,"IsFlagForDelete":false},{"CostoImballo":0,"CostoDazio":0,"ID":23856,"NumOrdine":"WEBD00000035","OrdineOriginale":"","DataOrdine":"/Date(1469120780000)/","DataIngressoSistema":"/Date(1469121296000)/","FDenominazione":"Marco Benasedo","FRagioneSociale":"","FIndirizzo":"Via Ponchielli 31","FIndirizzo2":"","FCAP":"20900","FComune":"Monza","FProvincia":"Monza-Brianza","Femail":"mbenasedo@mixereventi.com","FTelefono":"3482632290","FCodFiscale":"","FPartitaIVA":"","SDenominazione":"Marco Benasedo","SRagioneSociale":"","SIndirizzo":"Via Ponchielli 31","SIndirizzo2":"","SCAP":"20900","SComune":"Monza","SProvincia":"Monza-Brianza","Semail":"mbenasedo@mixereventi.com","STelefono":"3482632290","SCodFiscale":"","SPartitaIVA":"","CodAutorizzazione":"4314691207809203","TipoPagamento":"STF","OrderType":1000,"Messaggio":"","CostoSpedizione":7,"TimeStamp":"/Date(1489069837000)/","OrderStatus":10,"UserID":"00000506","Lastdatamodified_wb":"/Date(1469120780000)/","FCodisoNaz":"IT","SCodisoNaz":"IT","NumFatt":"CO0000002039","PesoOrdine":1.16,"ColliOrdine":1,"UsedCoupons":"promobenny","Totale":45,"Sconto":19,"TotaleScontato":26,"Language":"it_IT","AreaCode":"","CodCampagna":"","OrdineRegalo":"False","ValutatoPerNC":0,"RichiestaFattura":"N","Guest":"N","CouponCodeDetail":{"CouponCodeName":"promobenny","Value":"0","Type":"","IsDirty":false,"IsFlagForDelete":false},"OrderBoggiItems":[{"ID":55483,"IDTestata":"WEBD00000035","NumRiga":1,"CodArticolo":"BO14C014702","Taglia":"XXL","Quantita":1,"QuantitaFatturata":1,"Prezzo":19,"OrderStatus":3,"UserID":"00000506","LastDataModified_wb":"/Date(1469120780000)/","DescrizioneArt":"PARIGAMBA IN COTONE STRETCH","VoceDoganale":"61071100","MadeIn":"CN","Composizione":"CO 95 EA 5","GiftCardCode":"","Omaggio":0,"PrezzoAcquisto":19,"LastSeason":"NOOS","GroupCode":45,"GroupDescription":"Intimo","PrezzoScontato":0,"PrezzoAcquistoScontato":0,"ScontoPrezzo":0,"ScontoPrezzoAcquisto":0,"PrezzoEUR":19,"IsVirtualItem":false,"DiscountLabel":"","DiscountValue":0,"DiscountValueEUR":0,"WarehouseAvailability":0,"IsDirty":false,"IsFlagForDelete":false},{"ID":55484,"IDTestata":"WEBD00000035","NumRiga":2,"CodArticolo":"BO14C014701","Taglia":"XXL","Quantita":1,"QuantitaFatturata":1,"Prezzo":19,"OrderStatus":3,"UserID":"00000506","LastDataModified_wb":"/Date(1469120780000)/","DescrizioneArt":"PARIGAMBA IN COTONE STRETCH","VoceDoganale":"61071100","MadeIn":"CN","Composizione":"CO 95 EA 5","GiftCardCode":"","Omaggio":0,"PrezzoAcquisto":19,"LastSeason":"NOOS","GroupCode":45,"GroupDescription":"Intimo","PrezzoScontato":0,"PrezzoAcquistoScontato":0,"ScontoPrezzo":0,"ScontoPrezzoAcquisto":0,"PrezzoEUR":19,"IsVirtualItem":false,"DiscountLabel":"","DiscountValue":0,"DiscountValueEUR":0,"WarehouseAvailability":0,"IsDirty":false,"IsFlagForDelete":false}],"ShippingFees":0,"ScontoTestata":19,"Currency":"EUR","CaptureConfirmation":"4314691747995181","CaptureDate":"/Date(1469174817000)/","RemoteHost":"0","CostoSpedizioneEur":7,"TotaleEur":45,"ScontoEur":19,"TotaleScontatoEur":26,"GiftCardFee":0,"GiftCardFeeEur":0,"SourceID":0,"MasterOrder":"0","OrderBoggiAttribute":[{"ID":523296,"NumOrdine":"WEBD00000035","AttributeKey":"KeepIT Exported","AttributeValue":"true","EventDate":"/Date(1482437784000)/","OrderBoggiAttributeType":4,"OrderBoggiAttributeDetails":null,"IsDirty":false,"IsFlagForDelete":false}],"OrderBoggiPaymentCapture":[{"ID":9,"OrderNumber":"WEBD00000035","PaymentType":1,"Currency":"EUR","CaptureAmount":26,"CaptureDate":"/Date(1469174817000)/","CaptureAuth":"4314691747995181","CaptureType":1,"IsDirty":false,"IsFlagForDelete":false}],"Payments":null,"CreditNotes":[],"ReturnCases":[],"NavisionInvoices":null,"ShopUpsellings":null,"TrackingUrl":["http://as777.bartolini.it/vas/sped_ricdocmit_load.hsm?rma=WEBD00000035&ksu=0896641&refer=https://shop.boggi.com online.asp"],"Boxes":[{"ID":2110,"OrderNumber":"WEBD00000035","InternalShipping":"SP16-026018","Carton":"SC0382358","Weight":0.44,"CartonCode":"17","Length":485,"Width":350,"Height":87,"IsDirty":false,"IsFlagForDelete":false}],"SDenominazioneOriginale":"","SIndirizzoOriginale":"","SIndirizzo2Originale":"","SCapOriginale":"","SComuneOriginale":"","SProvinciaOriginale":"","TotaleScontoTestata":19,"TotaleScontoTestata_EUR":19,"CourierName":"Bartolini","OrchestrationList":[],"CourierEventList":[{"ID":84596,"EventDate":"/Date(1469534400000)/","Description":"Delivered","EventCode":"DL","City":"Monza","Country":"IT","ExceptionEventCode":"DL","ExceptionEventDescription":"Delivered","OrderNumber":"WEBD00000035","TrackingNumber":"155836","IsDirty":false,"IsFlagForDelete":false}],"OrderFilesList":[],"NavisionInvoice":"IN16-003349","IsDirty":false,"IsFlagForDelete":false}]}
    );
  }
  else{
    var options = {
      host: "portal2.boggi.com",
      port: 8080,
      path: '/rest/v1/hackaton/GetUserDataFromEmail?email=' + req.params.email,
    };

    var callback = (response) => {
      var str = '';
      response.on('data', function (chunk) {
        str += chunk;
      });

      response.on('end', function () {
        console.log('Data obtained from ' + options.host);
        res.send(JSON.parse(str));
      });
    };

    console.log('API called to ' + options.host);
    var request = http.request(options, callback);
    request.end();
  }
});

router.get('/api/instagram/:query', (req, res, next) => {
  //var url="https://api.instagram.com/v1/users/search?q=jack&access_token=ACCESS-TOKEN";
  console.log('Data retrived by Instagram');
  res.send({ data: [
              {
                "username": "giovannimalago",
                "first_name": "Giovanni",
                "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/12976220_487538591437398_164103673_a.jpg",
                "id": "3174368362",
                "last_name": "Malago"
              },
              {
                "username": "prebenmala92",
                "first_name": "Giovanni",
                "profile_picture": "https://scontent.cdninstagram.com/t51.2885-19/s150x150/17265439_811624112310489_223238295373479936_a.jpg",
                "id": "2242527089",
                "last_name": "Malago"
              },
            ]}
        );
});

//CALL TO INSTAGRAM TO TAKE ALL USER MEDIA
router.get('/api/instagram/:username/media/', (req, res, next) => {
  var url = "https://www.instagram.com/" + req.params.username + "/media/";

  var usedItems = [];
  var userPhoto = [];
  var newDate = new Date().setFullYear(new Date().getFullYear() - 1);

  request(url, function(err, response, body){
      var dataGram = JSON.parse(body);
      var StringMedia = '';
      if(dataGram.items.length > 0){
        for(var i = 0; i < dataGram.items.length; i++){
          var data = new Date(dataGram.items[i].created_time * 1000);
          if(data < new Date(newDate)){
            console.log('Post ' + i +' troppo vecchio');
            break;
          }
          if(dataGram.items[i].type == 'image'){
            usedItems.push(dataGram.items[i]);
          }
        }
        usedItems.forEach(function(element){
          if(element.caption != null){
            userPhoto.push({
              username: element.user.username,
              photo: element.images.thumbnail.url,
              text: element.caption.text
            });
            StringMedia += element.caption.text + '\n';
          }
          else
            userPhoto.push({
              username: element.user.username,
              photo: element.images.thumbnail.url,
              text: ''
            });
        });
        res.send({userPhoto, StringMedia});
        console.log('Data obtained from Instagram');
      }
      else {
        res.send([]);
        console.log('No items for the specified username');
      }
  });
});

//CALL TO TWITTER TO DISCOVER ACCOUNT BY FULL NAME
router.get('/api/twitter/:query', (req, res) => {
  var params = {q: req.params.query};
  var user = [];
  twitterClient.get('users/search', params, function(error, users, response) {
    if (!error) {
      users.forEach(function(element){
        user.push({
          'userId' : element.id,
          'name' : element.name,
          'screen_name' : element.screen_name,
          'profile_image_url' : element.profile_image_url,
          'location' : element.location
        });
      });
      console.log('Data retrived by Twitter');
      res.send(user);
    }
  });
});

//CALL TO TWITTER TO TAKE ALL TWEETS OF A CHOSEN USER
router.get('/api/twitter/:screen_name/tweets', (req, res) => {
  var params = {screen_name: req.params.screen_name};
  var data = new Date().setFullYear(new Date().getFullYear() - 1);
  var userTweets = [];
  var usedTweets = [];
  twitterClient.get('statuses/user_timeline', params, function(error, tweets, response) {
    if (!error) {
      for(var i = 0; i < tweets.length; i++){
        if(new Date(tweets[i].created_at) < new Date(data)){
          console.log("Il tweet " + i + " è troppo vecchio");
          break;
        }
        usedTweets.push(tweets[i]);
      }
      var StringTweets = '';
      usedTweets.forEach(function(element){
        var urlPhoto = [];
        if(element.entities["media"]){
          element.entities.media.forEach(function(medias) {
            if(medias.type == 'photo'){
              urlPhoto.push(medias.media_url);
            }
          });
        }

        userTweets.push({
          'name' : element.user.name,
          'text' : element.text,
          'hashtags' : element.entities.hashtags,
          'photo' : urlPhoto,
          'place' : element.place
        });
        StringTweets += element.text + '\n';
      });
      res.send({ userTweets, StringTweets });
    }
  });
});

router.get('/api/watson/vr/product/:productCode', (req, res) => {
  getWatsonFromUrl('http://demandware.edgesuite.net/bbbs_prd/on/demandware.static/-/Sites-BoggiCatalog/default/images/medium/' + req.params.productCode + ".jpg", res);
});

router.post('/api/watson/vr/url', (req, res) => {
  getWatsonFromUrl(req.body.url, res);
});

router.post('/api/watson/nlu', (req, res) => {
  var parameters = {
    'text': req.body.text,
    'features': {
      'entities': {
        'emotion': true,
        'sentiment': true
      },
      'categories': {},
      'keywords': {
        'emotion': true,
        'sentiment': true
      }
    }
  };

  naturalLanguageUnderstanding.analyze(parameters, function(err, response) {
    if (err)
      res.send(err);
    else
      res.send(JSON.stringify(response, null, 2));
  });
});

router.get('/test', (req, res) => {
  visualRecognition.listClassifiers({},
    function(err, response) {
     if (err)
      res.send(err);
     else
      res.send(JSON.stringify(response, null, 2));
    }
  );
});

//------------------------------------------------------------------------------

//ERROR 404 NOT FOUND URI FOR DESTINATION PAGE
router.get('*', (req, res, next) => {
  var err = new Error();
  err.status = 404;
  err.description = 'Page not Found!';
  err.message = 'Nothing here!';
  next(err);
});

//------------------------------------------------------------------------------
//EXPORTS THE MODULE ROUTER
module.exports = router;
